<!DOCTYPE html>
<html lang="{{ site.lang | default: 'en-US' }}">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <title>{{ page.title }} - {{ site.title }}</title>
    <link href='https://fonts.googleapis.com/css?family=Sofia' rel='stylesheet'>
    <link rel="stylesheet" href="{{ '/assets/css/style.css' | relative_url }}">
  </head>
  <body class="{{page.title}}">
	<header>
		<h1>
			Judit<br/>Fischer
		</h1>
		<nav>

			{% for collection in site.collections %}
			{% unless collection.label == "posts" %}
				<ul class="{{collection.label}}">
					{% assign pages_by_date = site[collection.label] | sort: "year" | reverse %}
					{% for page in pages_by_date %}
						{% unless page.exclude %}

					    <li><a href="{{ page.url | relative_url }}">

					    {{page.title | default: page.name | split: "." | first}}

					  	</a></li>
					    {% endunless %}
					{% endfor %}
				</ul>
			{% endunless %}

			{% endfor %}
			<ul class="pages">
				{% for page in site.pages %}
				{% unless page.exclude %}
			    <li><a href="{{ page.url | relative_url }}">

			    {{page.title | default: page.name | split: "." | first}}

			  	</a></li>
			    {% endunless %}
			  	{% endfor %}
			</ul>
		</nav>
		<span id="back"><</span>
	</header>
	
	<article class="{{page.title}}">
		<h2>{{page.title}}</h2>
		{{content}}
	</article>

	<footer>
	</footer>

	<script>
		if (
			"IntersectionObserver" in window &&
			"IntersectionObserverEntry" in window &&
			"intersectionRatio" in window.IntersectionObserverEntry.prototype
			)
		{

			let header = document.querySelector("body>header")
			let observer = new IntersectionObserver(entries => {
				// console.log(entries[0].boundingClientRect);
				let entry = entries[0]
				if(entries[0].isIntersecting){
					entry.target.classList.remove("unseen");
				}else{
					entry.target.classList.add("unseen");
				}

			});

			observer.observe(header);

			header.addEventListener('click', ()=>{
				window.scrollTo({left: 0, behavior: 'smooth'});
			})
		}
	</script>
  </body>
</html>

